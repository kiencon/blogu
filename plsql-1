<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oracle PL/SQL Refresh — Topics 1 to 5 Summary</title>
  <style>
    :root {
      --bg: #0b1020;
      --card: #121a33;
      --text: #e9ecf6;
      --muted: #b6c0e0;
      --accent: #7aa2ff;
      --border: rgba(255,255,255,.12);
      --code: #0a0f1f;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 10% 10%, rgba(122,162,255,.18), transparent 60%),
                  radial-gradient(900px 700px at 90% 20%, rgba(122,255,198,.10), transparent 55%),
                  var(--bg);
      color: var(--text);
      line-height: 1.55;
      padding: 24px;
    }
    header {
      max-width: 980px;
      margin: 0 auto 18px auto;
      padding: 18px 18px 8px 18px;
    }
    h1 {
      margin: 0 0 6px 0;
      font-size: 26px;
      letter-spacing: .2px;
    }
    .subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }
    .grid {
      max-width: 980px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .card {
      grid-column: span 12;
      background: rgba(18, 26, 51, .92);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 16px 16px 12px 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    @media (min-width: 860px) {
      .card { grid-column: span 6; }
      .card.wide { grid-column: span 12; }
    }
    h2 {
      margin: 0 0 8px 0;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .pill {
      font-size: 12px;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(122,162,255,.15);
      border: 1px solid rgba(122,162,255,.28);
      color: var(--text);
    }
    ul {
      margin: 8px 0 10px 18px;
      padding: 0;
      color: var(--text);
    }
    li { margin: 6px 0; }
    .muted { color: var(--muted); }
    pre {
      margin: 10px 0 10px 0;
      background: var(--code);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 12px;
      padding: 12px;
      overflow: auto;
    }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .keyline {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px dashed rgba(255,255,255,.12);
      color: var(--muted);
      font-size: 13px;
    }
    footer {
      max-width: 980px;
      margin: 14px auto 0 auto;
      color: var(--muted);
      font-size: 12px;
      text-align: center;
    }
    .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 12px;
      padding: 2px 7px;
      border-radius: 8px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
    }
  </style>
</head>
<body>
  <header>
    <h1>Oracle PL/SQL Refresh — Topics 1 to 5</h1>
    <p class="subtitle">A compact summary you can review quickly. Covers: Basics → Variables → Control Flow → SQL in PL/SQL → Exceptions.</p>
  </header>

  <main class="grid">

    <!-- Topic 1 -->
    <section class="card">
      <h2><span class="pill">Topic 1</span> PL/SQL Basics</h2>
      <ul>
        <li><b>SQL</b> = query/modify data. <b>PL/SQL</b> = procedural code + SQL (variables, loops, exceptions, reusable units).</li>
        <li>Core block shape: <code>DECLARE</code> (optional) → <code>BEGIN</code> (required) → <code>EXCEPTION</code> (optional) → <code>END;</code> (required).</li>
        <li>Use <code>DBMS_OUTPUT.PUT_LINE</code> for output (often requires enabling server output).</li>
        <li>Comments: <code>--</code> and <code>/* ... */</code>.</li>
      </ul>
      <pre><code>BEGIN
  DBMS_OUTPUT.PUT_LINE('Hello from PL/SQL');
END;
/
</code></pre>
      <p class="keyline"><b>Key idea:</b> PL/SQL is “backend logic inside the database.”</p>
    </section>

    <!-- Topic 2 -->
    <section class="card">
      <h2><span class="pill">Topic 2</span> Variables &amp; Data Types</h2>
      <ul>
        <li>Declare variables in <code>DECLARE</code> and assign with <code>:=</code> (not <code>=</code>).</li>
        <li>Common types: <code>NUMBER</code>, <code>VARCHAR2(n)</code>, <code>DATE</code>, <code>TIMESTAMP</code>, <code>BOOLEAN</code> (PL/SQL-only).</li>
        <li><code>%TYPE</code> anchors a variable type to a table column. Safer when schema changes.</li>
        <li><code>%ROWTYPE</code> holds an entire row (all columns).</li>
      </ul>
      <pre><code>DECLARE
  v_salary employees.salary%TYPE;
  v_emp    employees%ROWTYPE;
BEGIN
  v_salary := 5000;

  SELECT * INTO v_emp
  FROM employees
  WHERE employee_id = 100;

  DBMS_OUTPUT.PUT_LINE(v_emp.first_name);
END;
/
</code></pre>
      <p class="keyline"><b>Key idea:</b> Use <code>%TYPE</code>/<code>%ROWTYPE</code> to keep code aligned with schema.</p>
    </section>

    <!-- Topic 3 -->
    <section class="card">
      <h2><span class="pill">Topic 3</span> Control Structures</h2>
      <ul>
        <li><code>IF / ELSIF / ELSE</code> for branching; <code>CASE</code> for cleaner multi-branch logic.</li>
        <li>Loops: <code>LOOP ... EXIT WHEN</code>, <code>WHILE ... LOOP</code>, <code>FOR i IN 1..N LOOP</code>.</li>
        <li>Flow helpers: <code>EXIT</code>, <code>EXIT WHEN</code>, <code>CONTINUE</code>.</li>
      </ul>
      <pre><code>BEGIN
  FOR i IN 1..5 LOOP
    IF i = 3 THEN
      CONTINUE; -- skip
    END IF;
    DBMS_OUTPUT.PUT_LINE(i);
  END LOOP;
END;
/
</code></pre>
      <p class="keyline"><b>Key idea:</b> PL/SQL is procedural: you control the execution flow around SQL.</p>
    </section>

    <!-- Topic 4 -->
    <section class="card">
      <h2><span class="pill">Topic 4</span> SQL Inside PL/SQL</h2>
      <ul>
        <li><code>SELECT ... INTO</code> stores query result into PL/SQL variables (must return exactly 1 row).</li>
        <li>DML works normally: <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>.</li>
        <li>Transactions: <code>COMMIT</code>, <code>ROLLBACK</code>, <code>SAVEPOINT</code>.</li>
        <li><code>RETURNING ... INTO</code> captures values from DML without re-selecting.</li>
      </ul>
      <pre><code>DECLARE
  v_salary employees.salary%TYPE;
BEGIN
  SELECT salary INTO v_salary
  FROM employees
  WHERE employee_id = 100;

  UPDATE employees
  SET salary = salary * 1.1
  WHERE employee_id = 100;

  COMMIT;
END;
/
</code></pre>
      <p class="keyline"><b>Key idea:</b> PL/SQL wraps SQL with logic and transaction control.</p>
    </section>

    <!-- Topic 5 -->
    <section class="card wide">
      <h2><span class="pill">Topic 5</span> Exception Handling</h2>
      <ul>
        <li>Exception section handles runtime errors: <code>EXCEPTION WHEN ... THEN ...</code></li>
        <li>Common predefined exceptions:
          <span class="muted"><code>NO_DATA_FOUND</code>, <code>TOO_MANY_ROWS</code>, <code>ZERO_DIVIDE</code>, <code>INVALID_NUMBER</code>, <code>DUP_VAL_ON_INDEX</code></span>
        </li>
        <li><code>WHEN OTHERS</code> catches everything (log + rethrow is a common best practice).</li>
        <li>User-defined exceptions with <code>RAISE</code>; custom error messages/codes with <code>RAISE_APPLICATION_ERROR(-20000..-20999, msg)</code>.</li>
      </ul>

      <pre><code>DECLARE
  v_salary employees.salary%TYPE;
BEGIN
  SELECT salary INTO v_salary
  FROM employees
  WHERE employee_id = 999; -- might not exist

EXCEPTION
  WHEN NO_DATA_FOUND THEN
    DBMS_OUTPUT.PUT_LINE('Employee not found');
  WHEN TOO_MANY_ROWS THEN
    DBMS_OUTPUT.PUT_LINE('Query returned multiple rows');
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE(SQLCODE || ' - ' || SQLERRM);
    RAISE; -- rethrow
END;
/
</code></pre>

      <p class="keyline">
        <b>Key idea:</b> Exceptions turn unpredictable data issues into predictable control flow.
        Tip: avoid <code>WHEN OTHERS THEN NULL;</code> unless you truly mean “ignore errors”.
      </p>
    </section>

  </main>

  <footer>
    <p>Next up: <span class="kbd">Topic 6</span> Cursors — handling multi-row query results safely and cleanly.</p>
  </footer>
</body>
</html>
